<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" xmlns:sx="http://www.stixy.com/v1.0" lang="en">
<head>
  <title>JavaScript unit test file</title>
  <meta http-equiv="content-type" content="text/html; charset=utf-8" />
  <script type="text/javascript">
    var StixyError = function(e){
      throw(e);
    }
    var STIXY_ENV = 'test';
  </script>
  
  <script src="../../public/javascripts/all/default/001_prototype_extend.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../public/javascripts/all/default/002_stixy_init.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../public/javascripts/all/default/003_events.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../public/javascripts/all/default/004_elements.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../public/javascripts/all/default/005_str_html_xml.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../public/javascripts/all/default/018_effects.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../public/javascripts/all/default/029_ui.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../public/javascripts/all/default/033_event_observers.js" type="text/javascript" charset="utf-8"></script>
  <script src="../../public/javascripts/all/stixyboard/001_event_observers.js" type="text/javascript" charset="utf-8"></script>
  
  <script src="assets/jsunittest.js" type="text/javascript"></script>
  <link rel="stylesheet" href="assets/unittest.css" type="text/css" />
  <link rel="stylesheet" href="../../public/stylesheets/all/default/010_popup.css" type="text/css" media="screen" title="no title" charset="utf-8">
  
  <link rel="stylesheet" href="../../public/stylesheets/all/widgets/101_default.css" type="text/css" media="screen" title="no title" charset="utf-8">
  <link rel="stylesheet" href="../../public/stylesheets/all/widgets/102_document.css" type="text/css" media="screen" title="no title" charset="utf-8">
  <link rel="stylesheet" href="../../public/stylesheets/all/widgets/103_note.css" type="text/css" media="screen" title="no title" charset="utf-8">
  <link rel="stylesheet" href="../../public/stylesheets/all/widgets/104_photo.css" type="text/css" media="screen" title="no title" charset="utf-8">
  <link rel="stylesheet" href="../../public/stylesheets/all/widgets/105_todo.css" type="text/css" media="screen" title="no title" charset="utf-8">
  
</head>
<body>

<div id="content">

  <div id="header">
    <h1>Read and write editor commands</h1>
  </div>

  <!-- Log output (one per Runner, via {testLog: "testlog"} option)-->
  <div id="testlog"></div>
  <div class="canvas" id="stixyboard">
    <div class="canvas-content" id="canvas_content"></div>
  </div>
  
	
<script type="text/javascript">
// <![CDATA[
  
  Stixy.listen('ready', function(){
		  
      
      new Test.Unit.Runner({

        // replace this with your real tests
        setup: function() {
        },

        teardown: function() {
        },
			  
        testAnimation: function() {
          var animations = new Array(300)
          for(var i=0; i<animations.length; i++){
            animations[i] = new Stixy.effects.Timeline(1);
        	  var startFrame = animations[i].setKeyFrame(0, { position:(Math.random()*100)+10 });
        	  animations[i].setKeyFrame(1, { position:Math.random()*10 });
        	  startFrame.easeIn = 1*0.45;
        	  startFrame.easeOut = 1*0.45;
        	  animations[i].onFrame = function(frame){}
        	  animations[i].onFinished = (function(num){ return function(frame){
        	    animations.pop();
        	    if(animations.length==0){
        	      console.log('Done');
        	    }
        	  }.b(this)})(i);
        	  animations[i].start();
          }
          
        }
        

      }, {testLog: "testlog"}); 
      // For each Test.UnitRunner instance, specify the element id where results will be
      // published; e.g. <div id="testlog"/> above.
      // That is, you can have multiple "new Test.Unit.Runner() { ... }" on this page, just
      // create more <div id="testlog2"></div> etc, and pass the element id to the hash above:
      // e.g. {testLog: "testlog2"}
    // ]]>
    
  })
</script>
</body>
</html>